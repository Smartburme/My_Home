<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Smart Burme AI</title>
  <link rel="stylesheet" href="main.css" />
</head>
<body>
  <header>
    <h1>Smart Burme AI</h1>
  </header>

  <main>
    <div class="tabs">
      <button id="textMode" class="active">စာရေးပေးရန်</button>
      <button id="imageMode">ပုံဖန်တီးရန်</button>
    </div>

    <textarea id="prompt" placeholder="Run the baby in rain"></textarea>
    <button id="generateBtn">ဖန်တီးမည်</button>

    <div id="result">
      <img id="resultImage" alt="AI generated image" />
      <p id="resultText"></p>
    </div>
  </main>

  <footer>
    <button>ဆက်ဖတ်မည်</button>
  </footer>

  <script>
    const apiKey = "🔑 မင်း restrict လုပ်ထားတဲ့ Gemini API key ထည့်ပါ";

    const generateBtn = document.getElementById("generateBtn");
    const promptInput = document.getElementById("prompt");
    const resultImage = document.getElementById("resultImage");
    const resultText = document.getElementById("resultText");

    generateBtn.addEventListener("click", async () => {
      const prompt = promptInput.value.trim();
      if (!prompt) return;

      resultImage.src = "";
      resultText.textContent = "Loading...";

      const res = await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-pro-vision:generateContent?key=" + apiKey, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          contents: [{ parts: [{ text: prompt }] }]
        })
      });

      const data = await res.json();
      const base64 = data.candidates?.[0]?.content?.parts?.[0]?.inlineData?.data;

      if (base64) {
        resultImage.src = "data:image/png;base64," + base64;
        resultText.textContent = "";
      } else {
        resultText.textContent = "ပုံမရနိုင်ပါ။ ပြန်စမ်းကြည့်ပါ။";
      }
    });
  </script>
</body>
</html>
